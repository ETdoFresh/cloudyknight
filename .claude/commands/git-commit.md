# Git Commit Generator

## Instructions for Claude

When this command is invoked, you should:

1. **Check Git Status**: Run `git status` to see all staged and unstaged changes
2. **Check Git Diff**: Run `git diff --cached` to see the actual changes that will be committed (staged changes)
3. **Analyze the Changes**: Review the diffs to understand what was modified
4. **Generate Commit Message**: Create an appropriate commit message following the rules below
5. **Commit the Changes**: Use `git commit -m "message"` with the generated message
6. **Check for Remote**: Run `git remote -v` to check if a remote repository exists
7. **Push if Remote Exists**: If a remote is configured, run `git push` to push the changes

## Commit Message Format

```
Subject Line [Required]

- Detail Line 1 [Optional]
- Detail Line 2 [Optional]
- ...
```

## Commit Message Rules

- Use imperative mood
- Present active tense
- Start with a capital letter
- Start with a verb (Add, Update, Remove, Fix, etc)
- Does not include prefix [fix:, feat:, chore:, refactor:, etc]
- Rules apply to subject line and detail lines
- Does not require details, but if change is larger, include it
- Always include a blank line between subject and detail lines
- Never mention AI tools, Claude, or that code was AI-generated

## Examples

### Simple Commits

```
Update API POST endpoint to support dynamic paths and improve URL construction
```

```
Rename PlayerController to CharacterController for clarity and consistency
```

```
Move PlayerController to CharacterController for better organization
```

```
Remove unused assets and clean up project structure
```

### Commits with Details

```
Enhance ColyseusManager and GameRoom for improved room management and connection handling

- Update ColyseusManager to utilize roomCode from Discord API or URL query parameters for dynamic room joining
- Modify GameRoom to store and log roomCode in metadata for better matchmaking and debugging
- Ensure fallback behavior for roomCode when not provided, enhancing user experience during connection attempts
```

```
Add UICanvas prefab and metadata for UI layout management

- Introduce UICanvas prefab to manage the user interface layout
```

```
Refactor PlayerController and CharacterCreatorUI to streamline character appearance updates

- Introduce UpdateColyseusCharacterAppearance method in PlayerController for better code organization
- Update CharacterCreatorUI to call the new method after saving character options, ensuring consistent state updates across the application
```

## Common Verbs to Use

- **Add** - When creating new features or files
- **Update** - When modifying existing functionality
- **Fix** - When correcting bugs or issues
- **Remove** - When deleting code or files
- **Refactor** - When restructuring code without changing functionality
- **Enhance** - When improving existing features
- **Move** - When relocating files or code
- **Rename** - When changing names of files, variables, or functions
- **Implement** - When completing a new feature
- **Optimize** - When improving performance
- **Clean** - When removing unnecessary code or files
- **Merge** - When combining code or branches
- **Revert** - When undoing previous changes
- **Test** - When adding or updating tests
- **Document** - When adding or updating documentation

## What NOT to Do

❌ **Don't use prefixes:**
```
fix: Update login validation
feat: Add user authentication
```

❌ **Don't use past tense:**
```
Updated the API endpoints
Fixed the validation bug
```

❌ **Don't start with lowercase:**
```
update API endpoints
fix validation bug
```

❌ **Don't use non-imperative mood:**
```
This updates the API endpoints
Updating the validation logic
```

❌ **Don't mention AI tools or assistants:**
```
Add feature with Claude's help
Fix bug identified by AI
Update code generated by Claude
```

## Good vs Bad Examples

### ✅ Good
```
Add user authentication to API endpoints
Fix validation bug in login form
Update database schema for user profiles
Remove deprecated authentication methods
```

### ❌ Bad
```
feat: added user authentication to API endpoints
Fixed validation bug in login form
updating database schema for user profiles
This removes deprecated authentication methods
```

## Template for Your Commits

```
{Verb} {what} {why/where} [optional: for {reason}]

- {Detail about specific change 1}
- {Detail about specific change 2}
- {Detail about specific change 3}
```

Remember: The commit message should complete the sentence "If applied, this commit will..."

## Command Usage

When this command is invoked:

1. Claude will automatically check the current git status
2. Claude will examine the staged changes (git diff --cached)
3. Claude will generate an appropriate commit message based on the actual changes
4. Claude will commit the changes using the generated message
5. Claude will check for remote repositories
6. If a remote exists, Claude will push the changes

Arguments provided (if any):
```
$ARGUMENTS
```

**Important Notes:**
- If no changes are staged, Claude should first run `git add -A` or ask which files to stage
- The commit will be made automatically after generating the message
- Push will only occur if a remote repository is configured
- If push fails due to being behind remote, Claude should inform the user and suggest pulling first